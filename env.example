# Passwords (these get generated by the gen-env.sh script)
DAV_PASSWORD=password_placeholder
DBA_PASSWORD=password_placeholder

# Catalog URL
VIRT_CATALOG_URL=https://datos.gob.es

# Default graph name - matches the catalog base URI
VIRT_DEFAULT_GRAPH=https://datos.gob.es

# Virtuoso port
# This is the port on the host used for virtuoso
VIRTUOSO_PORT=8890

# RAM settings (these are taken directly from the virtuoso sample config: https://github.com/openlink/virtuoso-opensource/blob/7e48f8535874103505b6f8a630b09dbdb0678dc4/binsrc/virtuoso/virtuoso.ini#L91)
# Only uncomment one set of parameters

# Uncomment next two lines if there is 2 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=170000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=130000

# Uncomment next two lines if there is 4 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=340000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=250000

# Uncomment next two lines if there is 8 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=680000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=500000

# Uncomment next two lines if there is 16 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=1360000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=1000000

# Uncomment next two lines if there is 32 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=2720000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=2000000

# Uncomment next two lines if there is 48 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=4000000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=3000000

# Uncomment next two lines if there is 64 GB system memory free
#VIRT_PARAMETERS_NUMBEROFBUFFERS=5450000
#VIRT_PARAMETERS_MAXDIRTYBUFFERS=4000000

# Default SPARQL query
VIRT_SPARQL_DEFAULTQUERY="PREFIX dcat: <http://www.w3.org/ns/dcat#> \
PREFIX dct: <http://purl.org/dc/terms/> \
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> \
SELECT DISTINCT ?dataset ?title ?modified WHERE { \
  <${VIRT_CATALOG_URL}> a dcat:Catalog ; \
    dcat:dataset ?dataset . \
  ?dataset dct:title ?title ; \
          dct:modified ?modified . \
  FILTER(LANG(?title) = \"es\") \
} \
ORDER BY DESC(?modified)"